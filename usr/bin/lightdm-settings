#!/usr/bin/python3

import xapp.os
import gettext
import locale
import os

DOMAIN = "lightdm-settings"
PATH = "/usr/share/locale"
gettext.install(DOMAIN, PATH)

icon = "preferences-system-login.png"
message = _("Login Window")

# We add the current locale and desktop since for some sessions
# (e.g. gnome-session) pkexec does not pass them - i.e. need to apply
# the user's locale, not the system one (assuming there is one).
loc = locale.getdefaultlocale()
locstr = loc[0] + "." + loc[1]
xapp.os.run_with_admin_privs("/usr/lib/lightdm-settings/lightdm-settings " +
    locstr + " " + os.environ["XDG_CURRENT_DESKTOP"],
    message=message,
    icon=icon,
    support_pkexec=True)
